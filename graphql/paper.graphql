# Paper Type
type Paper {
    _id: ID!
    title: String!
    abstract: String
    author: [String!]!
    event_id: ID!
    file_url: String
    view: Int!
    download: Int!
    category: String
    language: String
    keywords: [String!]
    created_at: DateTime
    updated_at: DateTime

    # Relations
    event: Event @belongsTo(relation: "event")
}

# Input Types
input CreatePaperInput {
    title: String!
    abstract: String
    author: [String!]!
    event_id: ID!
    file_url: String
    category: String
    language: String
    keywords: [String!]
}

input UpdatePaperInput {
    _id: ID!
    title: String
    abstract: String
    author: [String!]
    event_id: ID
    file_url: String
    category: String
    language: String
    keywords: [String!]
}

# Queries
extend type Query {
    papers: [Paper!]! @all
    paper(_id: ID! @eq): Paper @find
}

# Mutations
extend type Mutation {
    # Tạo paper mới
    createPaper(input: CreatePaperInput! @spread): Paper
        @field(resolver: "App\\GraphQL\\Mutations\\PaperMutation@create")

    # Cập nhật paper
    updatePaper(input: UpdatePaperInput! @spread): Paper
        @field(resolver: "App\\GraphQL\\Mutations\\PaperMutation@update")

    # Xóa paper
    deletePaper(_id: ID!): Paper
        @field(resolver: "App\\GraphQL\\Mutations\\PaperMutation@delete")
}
